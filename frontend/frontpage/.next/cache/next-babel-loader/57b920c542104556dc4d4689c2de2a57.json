{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.middleware = middleware;\nexports.NextScript = exports.Main = exports.Head = exports.Html = exports.default = void 0;\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _server = _interopRequireDefault(require(\"styled-jsx/server\"));\nvar _constants = require(\"../next-server/lib/constants\");\nvar _documentContext = require(\"../next-server/lib/document-context\");\nvar _utils = require(\"../next-server/lib/utils\");\nexports.DocumentContext = _utils.DocumentContext;\nexports.DocumentInitialProps = _utils.DocumentInitialProps;\nexports.DocumentProps = _utils.DocumentProps;\nvar _utils2 = require(\"../next-server/server/utils\");\nvar _htmlescape = require(\"../server/htmlescape\");\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n  _getRequireWildcardCache = function () {\n    return cache;\n  };\n  return cache;\n}\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n  var cache = _getRequireWildcardCache();\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n  newObj.default = obj;\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n  return newObj;\n}\nasync function middleware({\n  req,\n  res\n}) {}\nfunction dedupe(bundles) {\n  const files = new Set();\n  const kept = [];\n  for (const bundle of bundles) {\n    if (files.has(bundle.file)) continue;\n    files.add(bundle.file);\n    kept.push(bundle);\n  }\n  return kept;\n}\nfunction getOptionalModernScriptVariant(path) {\n  if (process.env.__NEXT_MODERN_BUILD) {\n    return path.replace(/\\.js$/, '.module.js');\n  }\n  return path;\n} /**\n  * `Document` component handles the initial `document` markup and renders only on the server side.\n  * Commonly used for implementing server side rendering for `css-in-js` libraries.\n  */\nclass Document extends _react.Component {\n  /**\n  * `getInitialProps` hook returns the context object with the addition of `renderPage`.\n  * `renderPage` callback executes `React` rendering logic synchronously to support server-rendering wrappers\n  */\n  static async getInitialProps(ctx) {\n    const enhancers = process.env.__NEXT_PLUGINS ? await Promise.resolve().then(() => _interopRequireWildcard(require('next-plugin-loader?middleware=unstable-enhance-app-server!'))).then(mod => mod.default(ctx)) : [];\n    const enhanceApp = App => {\n      for (const enhancer of enhancers) {\n        App = enhancer(App);\n      }\n      return props => /*#__PURE__*/_react.default.createElement(App, props);\n    };\n    const {\n      html,\n      head\n    } = await ctx.renderPage({\n      enhanceApp\n    });\n    const styles = [...(0, _server.default)(), ...(process.env.__NEXT_PLUGINS ? await Promise.resolve().then(() => _interopRequireWildcard(require('next-plugin-loader?middleware=unstable-get-styles-server!'))).then(mod => mod.default(ctx)) : [])];\n    return {\n      html,\n      head,\n      styles\n    };\n  }\n  static renderDocument(Document, props) {\n    return /*#__PURE__*/_react.default.createElement(_documentContext.DocumentContext.Provider, {\n      value: {\n        _documentProps: props,\n        // In dev we invalidate the cache by appending a timestamp to the resource URL.\n        // This is a workaround to fix https://github.com/vercel/next.js/issues/5860\n        // TODO: remove this workaround when https://bugs.webkit.org/show_bug.cgi?id=187726 is fixed.\n        _devOnlyInvalidateCacheQueryString: true ? '?ts=' + Date.now() : ''\n      }\n    }, /*#__PURE__*/_react.default.createElement(Document, props));\n  }\n  render() {\n    return /*#__PURE__*/_react.default.createElement(Html, null, /*#__PURE__*/_react.default.createElement(Head, null), /*#__PURE__*/_react.default.createElement(\"body\", null, /*#__PURE__*/_react.default.createElement(Main, null), /*#__PURE__*/_react.default.createElement(NextScript, null)));\n  }\n}\nexports.default = Document;\nDocument.headTagsMiddleware = process.env.__NEXT_PLUGINS ? Promise.resolve().then(() => _interopRequireWildcard(require('next-plugin-loader?middleware=document-head-tags-server!'))) : () => [];\nDocument.bodyTagsMiddleware = process.env.__NEXT_PLUGINS ? Promise.resolve().then(() => _interopRequireWildcard(require('next-plugin-loader?middleware=document-body-tags-server!'))) : () => [];\nDocument.htmlPropsMiddleware = process.env.__NEXT_PLUGINS ? Promise.resolve().then(() => _interopRequireWildcard(require('next-plugin-loader?middleware=document-html-props-server!'))) : () => [];\nclass Html extends _react.Component {\n  constructor(...args) {\n    super(...args);\n    this.context = void 0;\n  }\n  render() {\n    const {\n      inAmpMode,\n      htmlProps\n    } = this.context._documentProps;\n    return /*#__PURE__*/_react.default.createElement(\"html\", Object.assign({}, htmlProps, this.props, {\n      amp: inAmpMode ? '' : undefined,\n      \"data-ampdevmode\": inAmpMode && true ? '' : undefined\n    }));\n  }\n}\nexports.Html = Html;\nHtml.contextType = _documentContext.DocumentContext;\nHtml.propTypes = {\n  children: _propTypes.default.node.isRequired\n};\nclass Head extends _react.Component {\n  constructor(...args) {\n    super(...args);\n    this.context = void 0;\n  }\n  getCssLinks() {\n    const {\n      assetPrefix,\n      files\n    } = this.context._documentProps;\n    const {\n      _devOnlyInvalidateCacheQueryString\n    } = this.context;\n    const cssFiles = files && files.length ? files.filter(f => /\\.css$/.test(f)) : [];\n    const cssLinkElements = [];\n    cssFiles.forEach(file => {\n      cssLinkElements.push( /*#__PURE__*/_react.default.createElement(\"link\", {\n        key: `${file}-preload`,\n        nonce: this.props.nonce,\n        rel: \"preload\",\n        href: `${assetPrefix}/_next/${encodeURI(file)}${_devOnlyInvalidateCacheQueryString}`,\n        as: \"style\",\n        crossOrigin: this.props.crossOrigin || process.crossOrigin\n      }), /*#__PURE__*/_react.default.createElement(\"link\", {\n        key: file,\n        nonce: this.props.nonce,\n        rel: \"stylesheet\",\n        href: `${assetPrefix}/_next/${encodeURI(file)}${_devOnlyInvalidateCacheQueryString}`,\n        crossOrigin: this.props.crossOrigin || process.crossOrigin\n      }));\n    });\n    return cssLinkElements.length === 0 ? null : cssLinkElements;\n  }\n  getPreloadDynamicChunks() {\n    const {\n      dynamicImports,\n      assetPrefix\n    } = this.context._documentProps;\n    const {\n      _devOnlyInvalidateCacheQueryString\n    } = this.context;\n    return dedupe(dynamicImports).map(bundle => {\n      // `dynamicImports` will contain both `.js` and `.module.js` when the\n      // feature is enabled. This clause will filter down to the modern\n      // variants only.\n      if (!bundle.file.endsWith(getOptionalModernScriptVariant('.js'))) {\n        return null;\n      }\n      return /*#__PURE__*/_react.default.createElement(\"link\", {\n        rel: \"preload\",\n        key: bundle.file,\n        href: `${assetPrefix}/_next/${encodeURI(bundle.file)}${_devOnlyInvalidateCacheQueryString}`,\n        as: \"script\",\n        nonce: this.props.nonce,\n        crossOrigin: this.props.crossOrigin || process.crossOrigin\n      });\n    }) // Filter out nulled scripts\n    .filter(Boolean);\n  }\n  getPreloadMainLinks() {\n    const {\n      assetPrefix,\n      files\n    } = this.context._documentProps;\n    const {\n      _devOnlyInvalidateCacheQueryString\n    } = this.context;\n    const preloadFiles = files && files.length ? files.filter(file => {\n      // `dynamicImports` will contain both `.js` and `.module.js` when\n      // the feature is enabled. This clause will filter down to the\n      // modern variants only.\n      return file.endsWith(getOptionalModernScriptVariant('.js'));\n    }) : [];\n    return !preloadFiles.length ? null : preloadFiles.map(file => /*#__PURE__*/_react.default.createElement(\"link\", {\n      key: file,\n      nonce: this.props.nonce,\n      rel: \"preload\",\n      href: `${assetPrefix}/_next/${encodeURI(file)}${_devOnlyInvalidateCacheQueryString}`,\n      as: \"script\",\n      crossOrigin: this.props.crossOrigin || process.crossOrigin\n    }));\n  }\n  render() {\n    const {\n      styles,\n      ampPath,\n      inAmpMode,\n      assetPrefix,\n      hybridAmp,\n      canonicalBase,\n      __NEXT_DATA__,\n      dangerousAsPath,\n      headTags,\n      unstable_runtimeJS\n    } = this.context._documentProps;\n    const disableRuntimeJS = unstable_runtimeJS === false;\n    const {\n      _devOnlyInvalidateCacheQueryString\n    } = this.context;\n    const {\n      page,\n      buildId\n    } = __NEXT_DATA__;\n    let {\n      head\n    } = this.context._documentProps;\n    let children = this.props.children; // show a warning if Head contains <title> (only in development)\n    if (true) {\n      children = _react.default.Children.map(children, child => {\n        var _child$props;\n        const isReactHelmet = child === null || child === void 0 ? void 0 : (_child$props = child.props) === null || _child$props === void 0 ? void 0 : _child$props['data-react-helmet'];\n        if ((child === null || child === void 0 ? void 0 : child.type) === 'title' && !isReactHelmet) {\n          console.warn(\"Warning: <title> should not be used in _document.js's <Head>. https://err.sh/next.js/no-document-title\");\n        }\n        return child;\n      });\n      if (this.props.crossOrigin) console.warn('Warning: `Head` attribute `crossOrigin` is deprecated. https://err.sh/next.js/doc-crossorigin-deprecated');\n    }\n    let hasAmphtmlRel = false;\n    let hasCanonicalRel = false; // show warning and remove conflicting amp head tags\n    head = _react.default.Children.map(head || [], child => {\n      if (!child) return child;\n      const {\n        type,\n        props\n      } = child;\n      if (inAmpMode) {\n        let badProp = '';\n        if (type === 'meta' && props.name === 'viewport') {\n          badProp = 'name=\"viewport\"';\n        } else if (type === 'link' && props.rel === 'canonical') {\n          hasCanonicalRel = true;\n        } else if (type === 'script') {\n          // only block if\n          // 1. it has a src and isn't pointing to ampproject's CDN\n          // 2. it is using dangerouslySetInnerHTML without a type or\n          // a type of text/javascript\n          if (props.src && props.src.indexOf('ampproject') < -1 || props.dangerouslySetInnerHTML && (!props.type || props.type === 'text/javascript')) {\n            badProp = '<script';\n            Object.keys(props).forEach(prop => {\n              badProp += ` ${prop}=\"${props[prop]}\"`;\n            });\n            badProp += '/>';\n          }\n        }\n        if (badProp) {\n          console.warn(`Found conflicting amp tag \"${child.type}\" with conflicting prop ${badProp} in ${__NEXT_DATA__.page}. https://err.sh/next.js/conflicting-amp-tag`);\n          return null;\n        }\n      } else {\n        // non-amp mode\n        if (type === 'link' && props.rel === 'amphtml') {\n          hasAmphtmlRel = true;\n        }\n      }\n      return child;\n    }); // try to parse styles from fragment for backwards compat\n    const curStyles = Array.isArray(styles) ? styles : [];\n    if (inAmpMode && styles &&\n    // @ts-ignore Property 'props' does not exist on type ReactElement\n    styles.props &&\n    // @ts-ignore Property 'props' does not exist on type ReactElement\n    Array.isArray(styles.props.children)) {\n      const hasStyles = el => {\n        var _el$props, _el$props$dangerously;\n        return el === null || el === void 0 ? void 0 : (_el$props = el.props) === null || _el$props === void 0 ? void 0 : (_el$props$dangerously = _el$props.dangerouslySetInnerHTML) === null || _el$props$dangerously === void 0 ? void 0 : _el$props$dangerously.__html;\n      }; // @ts-ignore Property 'props' does not exist on type ReactElement\n      styles.props.children.forEach(child => {\n        if (Array.isArray(child)) {\n          child.forEach(el => hasStyles(el) && curStyles.push(el));\n        } else if (hasStyles(child)) {\n          curStyles.push(child);\n        }\n      });\n    }\n    return /*#__PURE__*/_react.default.createElement(\"head\", this.props, this.context._documentProps.isDevelopment && /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/_react.default.createElement(\"style\", {\n      \"data-next-hide-fouc\": true,\n      \"data-ampdevmode\": inAmpMode ? 'true' : undefined,\n      dangerouslySetInnerHTML: {\n        __html: `body{display:none}`\n      }\n    }), /*#__PURE__*/_react.default.createElement(\"noscript\", {\n      \"data-next-hide-fouc\": true,\n      \"data-ampdevmode\": inAmpMode ? 'true' : undefined\n    }, /*#__PURE__*/_react.default.createElement(\"style\", {\n      dangerouslySetInnerHTML: {\n        __html: `body{display:block}`\n      }\n    }))), children, head, /*#__PURE__*/_react.default.createElement(\"meta\", {\n      name: \"next-head-count\",\n      content: _react.default.Children.count(head || []).toString()\n    }), inAmpMode && /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/_react.default.createElement(\"meta\", {\n      name: \"viewport\",\n      content: \"width=device-width,minimum-scale=1,initial-scale=1\"\n    }), !hasCanonicalRel && /*#__PURE__*/_react.default.createElement(\"link\", {\n      rel: \"canonical\",\n      href: canonicalBase + (0, _utils2.cleanAmpPath)(dangerousAsPath)\n    }), /*#__PURE__*/_react.default.createElement(\"link\", {\n      rel: \"preload\",\n      as: \"script\",\n      href: \"https://cdn.ampproject.org/v0.js\"\n    }), styles && /*#__PURE__*/_react.default.createElement(\"style\", {\n      \"amp-custom\": \"\",\n      dangerouslySetInnerHTML: {\n        __html: curStyles.map(style => style.props.dangerouslySetInnerHTML.__html).join('').replace(/\\/\\*# sourceMappingURL=.*\\*\\//g, '').replace(/\\/\\*@ sourceURL=.*?\\*\\//g, '')\n      }\n    }), /*#__PURE__*/_react.default.createElement(\"style\", {\n      \"amp-boilerplate\": \"\",\n      dangerouslySetInnerHTML: {\n        __html: `body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}`\n      }\n    }), /*#__PURE__*/_react.default.createElement(\"noscript\", null, /*#__PURE__*/_react.default.createElement(\"style\", {\n      \"amp-boilerplate\": \"\",\n      dangerouslySetInnerHTML: {\n        __html: `body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}`\n      }\n    })), /*#__PURE__*/_react.default.createElement(\"script\", {\n      async: true,\n      src: \"https://cdn.ampproject.org/v0.js\"\n    })), !inAmpMode && /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, !hasAmphtmlRel && hybridAmp && /*#__PURE__*/_react.default.createElement(\"link\", {\n      rel: \"amphtml\",\n      href: canonicalBase + getAmpPath(ampPath, dangerousAsPath)\n    }), this.getCssLinks(), !disableRuntimeJS && /*#__PURE__*/_react.default.createElement(\"link\", {\n      rel: \"preload\",\n      href: assetPrefix + getOptionalModernScriptVariant(encodeURI(`/_next/static/${buildId}/pages/_app.js`)) + _devOnlyInvalidateCacheQueryString,\n      as: \"script\",\n      nonce: this.props.nonce,\n      crossOrigin: this.props.crossOrigin || process.crossOrigin\n    }), !disableRuntimeJS && page !== '/_error' && /*#__PURE__*/_react.default.createElement(\"link\", {\n      rel: \"preload\",\n      href: assetPrefix + getOptionalModernScriptVariant(encodeURI(`/_next/static/${buildId}/pages${getPageFile(page)}`)) + _devOnlyInvalidateCacheQueryString,\n      as: \"script\",\n      nonce: this.props.nonce,\n      crossOrigin: this.props.crossOrigin || process.crossOrigin\n    }), !disableRuntimeJS && this.getPreloadDynamicChunks(), !disableRuntimeJS && this.getPreloadMainLinks(), this.context._documentProps.isDevelopment && /*#__PURE__*/ // this element is used to mount development styles so the\n    // ordering matches production\n    // (by default, style-loader injects at the bottom of <head />)\n    _react.default.createElement(\"noscript\", {\n      id: \"__next_css__DO_NOT_USE__\"\n    }), styles || null), _react.default.createElement(_react.default.Fragment, {}, ...(headTags || [])));\n  }\n}\nexports.Head = Head;\nHead.contextType = _documentContext.DocumentContext;\nHead.propTypes = {\n  nonce: _propTypes.default.string,\n  crossOrigin: _propTypes.default.string\n};\nclass Main extends _react.Component {\n  constructor(...args) {\n    super(...args);\n    this.context = void 0;\n  }\n  render() {\n    const {\n      inAmpMode,\n      html\n    } = this.context._documentProps;\n    if (inAmpMode) return _constants.AMP_RENDER_TARGET;\n    return /*#__PURE__*/_react.default.createElement(\"div\", {\n      id: \"__next\",\n      dangerouslySetInnerHTML: {\n        __html: html\n      }\n    });\n  }\n}\nexports.Main = Main;\nMain.contextType = _documentContext.DocumentContext;\nclass NextScript extends _react.Component {\n  constructor(...args) {\n    super(...args);\n    this.context = void 0;\n  }\n  getDynamicChunks() {\n    const {\n      dynamicImports,\n      assetPrefix,\n      files\n    } = this.context._documentProps;\n    const {\n      _devOnlyInvalidateCacheQueryString\n    } = this.context;\n    return dedupe(dynamicImports).map(bundle => {\n      let modernProps = {};\n      if (process.env.__NEXT_MODERN_BUILD) {\n        modernProps = /\\.module\\.js$/.test(bundle.file) ? {\n          type: 'module'\n        } : {\n          noModule: true\n        };\n      }\n      if (!/\\.js$/.test(bundle.file) || files.includes(bundle.file)) return null;\n      return /*#__PURE__*/_react.default.createElement(\"script\", Object.assign({\n        async: true,\n        key: bundle.file,\n        src: `${assetPrefix}/_next/${encodeURI(bundle.file)}${_devOnlyInvalidateCacheQueryString}`,\n        nonce: this.props.nonce,\n        crossOrigin: this.props.crossOrigin || process.crossOrigin\n      }, modernProps));\n    });\n  }\n  getScripts() {\n    const {\n      assetPrefix,\n      files,\n      lowPriorityFiles\n    } = this.context._documentProps;\n    const {\n      _devOnlyInvalidateCacheQueryString\n    } = this.context;\n    const normalScripts = files === null || files === void 0 ? void 0 : files.filter(file => file.endsWith('.js'));\n    const lowPriorityScripts = lowPriorityFiles === null || lowPriorityFiles === void 0 ? void 0 : lowPriorityFiles.filter(file => file.endsWith('.js'));\n    return [...normalScripts, ...lowPriorityScripts].map(file => {\n      let modernProps = {};\n      if (process.env.__NEXT_MODERN_BUILD) {\n        modernProps = file.endsWith('.module.js') ? {\n          type: 'module'\n        } : {\n          noModule: true\n        };\n      }\n      return /*#__PURE__*/_react.default.createElement(\"script\", Object.assign({\n        key: file,\n        src: `${assetPrefix}/_next/${encodeURI(file)}${_devOnlyInvalidateCacheQueryString}`,\n        nonce: this.props.nonce,\n        async: true,\n        crossOrigin: this.props.crossOrigin || process.crossOrigin\n      }, modernProps));\n    });\n  }\n  getPolyfillScripts() {\n    // polyfills.js has to be rendered as nomodule without async\n    // It also has to be the first script to load\n    const {\n      assetPrefix,\n      polyfillFiles\n    } = this.context._documentProps;\n    const {\n      _devOnlyInvalidateCacheQueryString\n    } = this.context;\n    return polyfillFiles.filter(polyfill => polyfill.endsWith('.js') && !/\\.module\\.js$/.test(polyfill)).map(polyfill => /*#__PURE__*/_react.default.createElement(\"script\", {\n      key: polyfill,\n      nonce: this.props.nonce,\n      crossOrigin: this.props.crossOrigin || process.crossOrigin,\n      noModule: true,\n      src: `${assetPrefix}/_next/${polyfill}${_devOnlyInvalidateCacheQueryString}`\n    }));\n  }\n  static getInlineScriptSource(documentProps) {\n    const {\n      __NEXT_DATA__\n    } = documentProps;\n    try {\n      const data = JSON.stringify(__NEXT_DATA__);\n      return (0, _htmlescape.htmlEscapeJsonString)(data);\n    } catch (err) {\n      if (err.message.indexOf('circular structure')) {\n        throw new Error(`Circular structure in \"getInitialProps\" result of page \"${__NEXT_DATA__.page}\". https://err.sh/vercel/next.js/circular-structure`);\n      }\n      throw err;\n    }\n  }\n  render() {\n    const {\n      staticMarkup,\n      assetPrefix,\n      inAmpMode,\n      devFiles,\n      __NEXT_DATA__,\n      bodyTags,\n      unstable_runtimeJS\n    } = this.context._documentProps;\n    const disableRuntimeJS = unstable_runtimeJS === false;\n    const {\n      _devOnlyInvalidateCacheQueryString\n    } = this.context;\n    if (inAmpMode) {\n      if (false) {\n        return null;\n      }\n      const devFiles = [_constants.CLIENT_STATIC_FILES_RUNTIME_REACT_REFRESH, _constants.CLIENT_STATIC_FILES_RUNTIME_AMP, _constants.CLIENT_STATIC_FILES_RUNTIME_WEBPACK];\n      return /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, staticMarkup || disableRuntimeJS ? null : /*#__PURE__*/_react.default.createElement(\"script\", {\n        id: \"__NEXT_DATA__\",\n        type: \"application/json\",\n        nonce: this.props.nonce,\n        crossOrigin: this.props.crossOrigin || process.crossOrigin,\n        dangerouslySetInnerHTML: {\n          __html: NextScript.getInlineScriptSource(this.context._documentProps)\n        },\n        \"data-ampdevmode\": true\n      }), devFiles ? devFiles.map(file => /*#__PURE__*/_react.default.createElement(\"script\", {\n        key: file,\n        src: `${assetPrefix}/_next/${file}${_devOnlyInvalidateCacheQueryString}`,\n        nonce: this.props.nonce,\n        crossOrigin: this.props.crossOrigin || process.crossOrigin,\n        \"data-ampdevmode\": true\n      })) : null, _react.default.createElement(_react.default.Fragment, {}, ...(bodyTags || [])));\n    }\n    const {\n      page,\n      buildId\n    } = __NEXT_DATA__;\n    if (true) {\n      if (this.props.crossOrigin) console.warn('Warning: `NextScript` attribute `crossOrigin` is deprecated. https://err.sh/next.js/doc-crossorigin-deprecated');\n    }\n    const pageScript = [/*#__PURE__*/_react.default.createElement(\"script\", Object.assign({\n      async: true,\n      \"data-next-page\": page,\n      key: page,\n      src: assetPrefix + encodeURI(`/_next/static/${buildId}/pages${getPageFile(page)}`) + _devOnlyInvalidateCacheQueryString,\n      nonce: this.props.nonce,\n      crossOrigin: this.props.crossOrigin || process.crossOrigin\n    }, process.env.__NEXT_MODERN_BUILD ? {\n      noModule: true\n    } : {})), process.env.__NEXT_MODERN_BUILD && /*#__PURE__*/_react.default.createElement(\"script\", {\n      async: true,\n      \"data-next-page\": page,\n      key: `${page}-modern`,\n      src: assetPrefix + getOptionalModernScriptVariant(encodeURI(`/_next/static/${buildId}/pages${getPageFile(page)}`)) + _devOnlyInvalidateCacheQueryString,\n      nonce: this.props.nonce,\n      crossOrigin: this.props.crossOrigin || process.crossOrigin,\n      type: \"module\"\n    })];\n    const appScript = [/*#__PURE__*/_react.default.createElement(\"script\", Object.assign({\n      async: true,\n      \"data-next-page\": \"/_app\",\n      src: assetPrefix + `/_next/static/${buildId}/pages/_app.js` + _devOnlyInvalidateCacheQueryString,\n      key: \"_app\",\n      nonce: this.props.nonce,\n      crossOrigin: this.props.crossOrigin || process.crossOrigin\n    }, process.env.__NEXT_MODERN_BUILD ? {\n      noModule: true\n    } : {})), process.env.__NEXT_MODERN_BUILD && /*#__PURE__*/_react.default.createElement(\"script\", {\n      async: true,\n      \"data-next-page\": \"/_app\",\n      src: assetPrefix + `/_next/static/${buildId}/pages/_app.module.js` + _devOnlyInvalidateCacheQueryString,\n      key: \"_app-modern\",\n      nonce: this.props.nonce,\n      crossOrigin: this.props.crossOrigin || process.crossOrigin,\n      type: \"module\"\n    })];\n    return /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, !disableRuntimeJS && devFiles ? devFiles.map(file => !file.match(/\\.js\\.map/) && /*#__PURE__*/_react.default.createElement(\"script\", {\n      key: file,\n      src: `${assetPrefix}/_next/${encodeURI(file)}${_devOnlyInvalidateCacheQueryString}`,\n      nonce: this.props.nonce,\n      crossOrigin: this.props.crossOrigin || process.crossOrigin\n    })) : null, staticMarkup || disableRuntimeJS ? null : /*#__PURE__*/_react.default.createElement(\"script\", {\n      id: \"__NEXT_DATA__\",\n      type: \"application/json\",\n      nonce: this.props.nonce,\n      crossOrigin: this.props.crossOrigin || process.crossOrigin,\n      dangerouslySetInnerHTML: {\n        __html: NextScript.getInlineScriptSource(this.context._documentProps)\n      }\n    }), process.env.__NEXT_MODERN_BUILD && !disableRuntimeJS ? /*#__PURE__*/_react.default.createElement(\"script\", {\n      nonce: this.props.nonce,\n      crossOrigin: this.props.crossOrigin || process.crossOrigin,\n      noModule: true,\n      dangerouslySetInnerHTML: {\n        __html: NextScript.safariNomoduleFix\n      }\n    }) : null, !disableRuntimeJS && this.getPolyfillScripts(), !disableRuntimeJS && appScript, !disableRuntimeJS && page !== '/_error' && pageScript, disableRuntimeJS || staticMarkup ? null : this.getDynamicChunks(), disableRuntimeJS || staticMarkup ? null : this.getScripts(), _react.default.createElement(_react.default.Fragment, {}, ...(bodyTags || [])));\n  }\n}\nexports.NextScript = NextScript;\nNextScript.contextType = _documentContext.DocumentContext;\nNextScript.propTypes = {\n  nonce: _propTypes.default.string,\n  crossOrigin: _propTypes.default.string\n};\nNextScript.safariNomoduleFix = '!function(){var e=document,t=e.createElement(\"script\");if(!(\"noModule\"in t)&&\"onbeforeload\"in t){var n=!1;e.addEventListener(\"beforeload\",function(e){if(e.target===t)n=!0;else if(!e.target.hasAttribute(\"nomodule\")||!n)return;e.preventDefault()},!0),t.type=\"module\",t.src=\".\",e.head.appendChild(t),t.remove()}}();';\nfunction getAmpPath(ampPath, asPath) {\n  return ampPath || `${asPath}${asPath.includes('?') ? '&' : '?'}amp=1`;\n}\nfunction getPageFile(page, buildId) {\n  const startingUrl = page === '/' ? '/index' : page;\n  return buildId ? `${startingUrl}.${buildId}.js` : `${startingUrl}.js`;\n}","map":{"version":3,"sources":["../../pages/_document.tsx"],"names":["middleware","req","res","dedupe","bundles","files","Set","kept","bundle","has","file","add","push","getOptionalModernScriptVariant","path","process","env","__NEXT_MODERN_BUILD","replace","Document","Component","headTagsMiddleware","__NEXT_PLUGINS","bodyTagsMiddleware","htmlPropsMiddleware","getInitialProps","ctx","enhancers","then","mod","default","enhanceApp","App","enhancer","props","html","head","renderPage","styles","renderDocument","_documentProps","_devOnlyInvalidateCacheQueryString","Date","now","render","Html","contextType","DocumentComponentContext","propTypes","children","PropTypes","node","isRequired","context","inAmpMode","htmlProps","undefined","Head","nonce","string","crossOrigin","getCssLinks","assetPrefix","cssFiles","length","filter","f","test","cssLinkElements","forEach","encodeURI","getPreloadDynamicChunks","dynamicImports","map","endsWith","Boolean","getPreloadMainLinks","preloadFiles","ampPath","hybridAmp","canonicalBase","__NEXT_DATA__","dangerousAsPath","headTags","unstable_runtimeJS","disableRuntimeJS","page","buildId","React","Children","child","isReactHelmet","type","console","warn","hasAmphtmlRel","hasCanonicalRel","badProp","name","rel","src","indexOf","dangerouslySetInnerHTML","Object","keys","prop","curStyles","Array","isArray","hasStyles","el","__html","isDevelopment","count","toString","style","join","getAmpPath","getPageFile","createElement","Fragment","Main","AMP_RENDER_TARGET","NextScript","safariNomoduleFix","getDynamicChunks","modernProps","noModule","includes","getScripts","lowPriorityFiles","normalScripts","lowPriorityScripts","getPolyfillScripts","polyfillFiles","polyfill","getInlineScriptSource","documentProps","data","JSON","stringify","err","message","Error","staticMarkup","devFiles","bodyTags","CLIENT_STATIC_FILES_RUNTIME_REACT_REFRESH","CLIENT_STATIC_FILES_RUNTIME_AMP","CLIENT_STATIC_FILES_RUNTIME_WEBPACK","pageScript","appScript","match","asPath","startingUrl"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport flush from 'styled-jsx/server'\nimport {\n  AMP_RENDER_TARGET,\n  CLIENT_STATIC_FILES_RUNTIME_AMP,\n  CLIENT_STATIC_FILES_RUNTIME_REACT_REFRESH,\n  CLIENT_STATIC_FILES_RUNTIME_WEBPACK,\n} from '../next-server/lib/constants'\nimport { DocumentContext as DocumentComponentContext } from '../next-server/lib/document-context'\nimport {\n  DocumentContext,\n  DocumentInitialProps,\n  DocumentProps,\n} from '../next-server/lib/utils'\nimport { cleanAmpPath } from '../next-server/server/utils'\nimport { htmlEscapeJsonString } from '../server/htmlescape'\n\nexport { DocumentContext, DocumentInitialProps, DocumentProps }\n\nexport type OriginProps = {\n  nonce?: string\n  crossOrigin?: string\n}\n\nexport async function middleware({ req, res }: DocumentContext) {}\n\nfunction dedupe(bundles: any[]): any[] {\n  const files = new Set()\n  const kept = []\n\n  for (const bundle of bundles) {\n    if (files.has(bundle.file)) continue\n    files.add(bundle.file)\n    kept.push(bundle)\n  }\n  return kept\n}\n\nfunction getOptionalModernScriptVariant(path: string): string {\n  if (process.env.__NEXT_MODERN_BUILD) {\n    return path.replace(/\\.js$/, '.module.js')\n  }\n  return path\n}\n\n/**\n * `Document` component handles the initial `document` markup and renders only on the server side.\n * Commonly used for implementing server side rendering for `css-in-js` libraries.\n */\nexport default class Document<P = {}> extends Component<DocumentProps & P> {\n  static headTagsMiddleware = process.env.__NEXT_PLUGINS\n    ? import(\n        // @ts-ignore loader syntax\n        'next-plugin-loader?middleware=document-head-tags-server!'\n      )\n    : () => []\n  static bodyTagsMiddleware = process.env.__NEXT_PLUGINS\n    ? import(\n        // @ts-ignore loader syntax\n        'next-plugin-loader?middleware=document-body-tags-server!'\n      )\n    : () => []\n  static htmlPropsMiddleware = process.env.__NEXT_PLUGINS\n    ? import(\n        // @ts-ignore loader syntax\n        'next-plugin-loader?middleware=document-html-props-server!'\n      )\n    : () => []\n\n  /**\n   * `getInitialProps` hook returns the context object with the addition of `renderPage`.\n   * `renderPage` callback executes `React` rendering logic synchronously to support server-rendering wrappers\n   */\n  static async getInitialProps(\n    ctx: DocumentContext\n  ): Promise<DocumentInitialProps> {\n    const enhancers = process.env.__NEXT_PLUGINS\n      ? await import(\n          // @ts-ignore loader syntax\n          'next-plugin-loader?middleware=unstable-enhance-app-server!'\n        ).then((mod) => mod.default(ctx))\n      : []\n\n    const enhanceApp = (App: any) => {\n      for (const enhancer of enhancers) {\n        App = enhancer(App)\n      }\n      return (props: any) => <App {...props} />\n    }\n\n    const { html, head } = await ctx.renderPage({ enhanceApp })\n    const styles = [\n      ...flush(),\n      ...(process.env.__NEXT_PLUGINS\n        ? await import(\n            // @ts-ignore loader syntax\n            'next-plugin-loader?middleware=unstable-get-styles-server!'\n          ).then((mod) => mod.default(ctx))\n        : []),\n    ]\n    return { html, head, styles }\n  }\n\n  static renderDocument<P>(\n    Document: new () => Document<P>,\n    props: DocumentProps & P\n  ): React.ReactElement {\n    return (\n      <DocumentComponentContext.Provider\n        value={{\n          _documentProps: props,\n          // In dev we invalidate the cache by appending a timestamp to the resource URL.\n          // This is a workaround to fix https://github.com/vercel/next.js/issues/5860\n          // TODO: remove this workaround when https://bugs.webkit.org/show_bug.cgi?id=187726 is fixed.\n          _devOnlyInvalidateCacheQueryString:\n            process.env.NODE_ENV !== 'production' ? '?ts=' + Date.now() : '',\n        }}\n      >\n        <Document {...props} />\n      </DocumentComponentContext.Provider>\n    )\n  }\n\n  render() {\n    return (\n      <Html>\n        <Head />\n        <body>\n          <Main />\n          <NextScript />\n        </body>\n      </Html>\n    )\n  }\n}\n\nexport class Html extends Component<\n  React.DetailedHTMLProps<\n    React.HtmlHTMLAttributes<HTMLHtmlElement>,\n    HTMLHtmlElement\n  >\n> {\n  static contextType = DocumentComponentContext\n\n  static propTypes = {\n    children: PropTypes.node.isRequired,\n  }\n\n  context!: React.ContextType<typeof DocumentComponentContext>\n\n  render() {\n    const { inAmpMode, htmlProps } = this.context._documentProps\n    return (\n      <html\n        {...htmlProps}\n        {...this.props}\n        amp={inAmpMode ? '' : undefined}\n        data-ampdevmode={\n          inAmpMode && process.env.NODE_ENV !== 'production' ? '' : undefined\n        }\n      />\n    )\n  }\n}\n\nexport class Head extends Component<\n  OriginProps &\n    React.DetailedHTMLProps<\n      React.HTMLAttributes<HTMLHeadElement>,\n      HTMLHeadElement\n    >\n> {\n  static contextType = DocumentComponentContext\n\n  static propTypes = {\n    nonce: PropTypes.string,\n    crossOrigin: PropTypes.string,\n  }\n\n  context!: React.ContextType<typeof DocumentComponentContext>\n\n  getCssLinks(): JSX.Element[] | null {\n    const { assetPrefix, files } = this.context._documentProps\n    const { _devOnlyInvalidateCacheQueryString } = this.context\n    const cssFiles =\n      files && files.length ? files.filter((f) => /\\.css$/.test(f)) : []\n\n    const cssLinkElements: JSX.Element[] = []\n    cssFiles.forEach((file) => {\n      cssLinkElements.push(\n        <link\n          key={`${file}-preload`}\n          nonce={this.props.nonce}\n          rel=\"preload\"\n          href={`${assetPrefix}/_next/${encodeURI(\n            file\n          )}${_devOnlyInvalidateCacheQueryString}`}\n          as=\"style\"\n          crossOrigin={this.props.crossOrigin || process.crossOrigin}\n        />,\n        <link\n          key={file}\n          nonce={this.props.nonce}\n          rel=\"stylesheet\"\n          href={`${assetPrefix}/_next/${encodeURI(\n            file\n          )}${_devOnlyInvalidateCacheQueryString}`}\n          crossOrigin={this.props.crossOrigin || process.crossOrigin}\n        />\n      )\n    })\n\n    return cssLinkElements.length === 0 ? null : cssLinkElements\n  }\n\n  getPreloadDynamicChunks() {\n    const { dynamicImports, assetPrefix } = this.context._documentProps\n    const { _devOnlyInvalidateCacheQueryString } = this.context\n\n    return (\n      dedupe(dynamicImports)\n        .map((bundle: any) => {\n          // `dynamicImports` will contain both `.js` and `.module.js` when the\n          // feature is enabled. This clause will filter down to the modern\n          // variants only.\n          if (!bundle.file.endsWith(getOptionalModernScriptVariant('.js'))) {\n            return null\n          }\n\n          return (\n            <link\n              rel=\"preload\"\n              key={bundle.file}\n              href={`${assetPrefix}/_next/${encodeURI(\n                bundle.file\n              )}${_devOnlyInvalidateCacheQueryString}`}\n              as=\"script\"\n              nonce={this.props.nonce}\n              crossOrigin={this.props.crossOrigin || process.crossOrigin}\n            />\n          )\n        })\n        // Filter out nulled scripts\n        .filter(Boolean)\n    )\n  }\n\n  getPreloadMainLinks(): JSX.Element[] | null {\n    const { assetPrefix, files } = this.context._documentProps\n    const { _devOnlyInvalidateCacheQueryString } = this.context\n\n    const preloadFiles =\n      files && files.length\n        ? files.filter((file: string) => {\n            // `dynamicImports` will contain both `.js` and `.module.js` when\n            // the feature is enabled. This clause will filter down to the\n            // modern variants only.\n            return file.endsWith(getOptionalModernScriptVariant('.js'))\n          })\n        : []\n\n    return !preloadFiles.length\n      ? null\n      : preloadFiles.map((file: string) => (\n          <link\n            key={file}\n            nonce={this.props.nonce}\n            rel=\"preload\"\n            href={`${assetPrefix}/_next/${encodeURI(\n              file\n            )}${_devOnlyInvalidateCacheQueryString}`}\n            as=\"script\"\n            crossOrigin={this.props.crossOrigin || process.crossOrigin}\n          />\n        ))\n  }\n\n  render() {\n    const {\n      styles,\n      ampPath,\n      inAmpMode,\n      assetPrefix,\n      hybridAmp,\n      canonicalBase,\n      __NEXT_DATA__,\n      dangerousAsPath,\n      headTags,\n      unstable_runtimeJS,\n    } = this.context._documentProps\n    const disableRuntimeJS = unstable_runtimeJS === false\n    const { _devOnlyInvalidateCacheQueryString } = this.context\n    const { page, buildId } = __NEXT_DATA__\n\n    let { head } = this.context._documentProps\n    let children = this.props.children\n    // show a warning if Head contains <title> (only in development)\n    if (process.env.NODE_ENV !== 'production') {\n      children = React.Children.map(children, (child: any) => {\n        const isReactHelmet = child?.props?.['data-react-helmet']\n        if (child?.type === 'title' && !isReactHelmet) {\n          console.warn(\n            \"Warning: <title> should not be used in _document.js's <Head>. https://err.sh/next.js/no-document-title\"\n          )\n        }\n        return child\n      })\n      if (this.props.crossOrigin)\n        console.warn(\n          'Warning: `Head` attribute `crossOrigin` is deprecated. https://err.sh/next.js/doc-crossorigin-deprecated'\n        )\n    }\n\n    let hasAmphtmlRel = false\n    let hasCanonicalRel = false\n\n    // show warning and remove conflicting amp head tags\n    head = React.Children.map(head || [], (child) => {\n      if (!child) return child\n      const { type, props } = child\n\n      if (inAmpMode) {\n        let badProp: string = ''\n\n        if (type === 'meta' && props.name === 'viewport') {\n          badProp = 'name=\"viewport\"'\n        } else if (type === 'link' && props.rel === 'canonical') {\n          hasCanonicalRel = true\n        } else if (type === 'script') {\n          // only block if\n          // 1. it has a src and isn't pointing to ampproject's CDN\n          // 2. it is using dangerouslySetInnerHTML without a type or\n          // a type of text/javascript\n          if (\n            (props.src && props.src.indexOf('ampproject') < -1) ||\n            (props.dangerouslySetInnerHTML &&\n              (!props.type || props.type === 'text/javascript'))\n          ) {\n            badProp = '<script'\n            Object.keys(props).forEach((prop) => {\n              badProp += ` ${prop}=\"${props[prop]}\"`\n            })\n            badProp += '/>'\n          }\n        }\n\n        if (badProp) {\n          console.warn(\n            `Found conflicting amp tag \"${child.type}\" with conflicting prop ${badProp} in ${__NEXT_DATA__.page}. https://err.sh/next.js/conflicting-amp-tag`\n          )\n          return null\n        }\n      } else {\n        // non-amp mode\n        if (type === 'link' && props.rel === 'amphtml') {\n          hasAmphtmlRel = true\n        }\n      }\n      return child\n    })\n\n    // try to parse styles from fragment for backwards compat\n    const curStyles: React.ReactElement[] = Array.isArray(styles)\n      ? (styles as React.ReactElement[])\n      : []\n    if (\n      inAmpMode &&\n      styles &&\n      // @ts-ignore Property 'props' does not exist on type ReactElement\n      styles.props &&\n      // @ts-ignore Property 'props' does not exist on type ReactElement\n      Array.isArray(styles.props.children)\n    ) {\n      const hasStyles = (el: React.ReactElement) =>\n        el?.props?.dangerouslySetInnerHTML?.__html\n      // @ts-ignore Property 'props' does not exist on type ReactElement\n      styles.props.children.forEach((child: React.ReactElement) => {\n        if (Array.isArray(child)) {\n          child.forEach((el) => hasStyles(el) && curStyles.push(el))\n        } else if (hasStyles(child)) {\n          curStyles.push(child)\n        }\n      })\n    }\n\n    return (\n      <head {...this.props}>\n        {this.context._documentProps.isDevelopment && (\n          <>\n            <style\n              data-next-hide-fouc\n              data-ampdevmode={inAmpMode ? 'true' : undefined}\n              dangerouslySetInnerHTML={{\n                __html: `body{display:none}`,\n              }}\n            />\n            <noscript\n              data-next-hide-fouc\n              data-ampdevmode={inAmpMode ? 'true' : undefined}\n            >\n              <style\n                dangerouslySetInnerHTML={{\n                  __html: `body{display:block}`,\n                }}\n              />\n            </noscript>\n          </>\n        )}\n        {children}\n        {head}\n        <meta\n          name=\"next-head-count\"\n          content={React.Children.count(head || []).toString()}\n        />\n        {inAmpMode && (\n          <>\n            <meta\n              name=\"viewport\"\n              content=\"width=device-width,minimum-scale=1,initial-scale=1\"\n            />\n            {!hasCanonicalRel && (\n              <link\n                rel=\"canonical\"\n                href={canonicalBase + cleanAmpPath(dangerousAsPath)}\n              />\n            )}\n            {/* https://www.ampproject.org/docs/fundamentals/optimize_amp#optimize-the-amp-runtime-loading */}\n            <link\n              rel=\"preload\"\n              as=\"script\"\n              href=\"https://cdn.ampproject.org/v0.js\"\n            />\n            {/* Add custom styles before AMP styles to prevent accidental overrides */}\n            {styles && (\n              <style\n                amp-custom=\"\"\n                dangerouslySetInnerHTML={{\n                  __html: curStyles\n                    .map((style) => style.props.dangerouslySetInnerHTML.__html)\n                    .join('')\n                    .replace(/\\/\\*# sourceMappingURL=.*\\*\\//g, '')\n                    .replace(/\\/\\*@ sourceURL=.*?\\*\\//g, ''),\n                }}\n              />\n            )}\n            <style\n              amp-boilerplate=\"\"\n              dangerouslySetInnerHTML={{\n                __html: `body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}`,\n              }}\n            />\n            <noscript>\n              <style\n                amp-boilerplate=\"\"\n                dangerouslySetInnerHTML={{\n                  __html: `body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}`,\n                }}\n              />\n            </noscript>\n            <script async src=\"https://cdn.ampproject.org/v0.js\" />\n          </>\n        )}\n        {!inAmpMode && (\n          <>\n            {!hasAmphtmlRel && hybridAmp && (\n              <link\n                rel=\"amphtml\"\n                href={canonicalBase + getAmpPath(ampPath, dangerousAsPath)}\n              />\n            )}\n            {this.getCssLinks()}\n            {!disableRuntimeJS && (\n              <link\n                rel=\"preload\"\n                href={\n                  assetPrefix +\n                  getOptionalModernScriptVariant(\n                    encodeURI(`/_next/static/${buildId}/pages/_app.js`)\n                  ) +\n                  _devOnlyInvalidateCacheQueryString\n                }\n                as=\"script\"\n                nonce={this.props.nonce}\n                crossOrigin={this.props.crossOrigin || process.crossOrigin}\n              />\n            )}\n            {!disableRuntimeJS && page !== '/_error' && (\n              <link\n                rel=\"preload\"\n                href={\n                  assetPrefix +\n                  getOptionalModernScriptVariant(\n                    encodeURI(\n                      `/_next/static/${buildId}/pages${getPageFile(page)}`\n                    )\n                  ) +\n                  _devOnlyInvalidateCacheQueryString\n                }\n                as=\"script\"\n                nonce={this.props.nonce}\n                crossOrigin={this.props.crossOrigin || process.crossOrigin}\n              />\n            )}\n            {!disableRuntimeJS && this.getPreloadDynamicChunks()}\n            {!disableRuntimeJS && this.getPreloadMainLinks()}\n            {this.context._documentProps.isDevelopment && (\n              // this element is used to mount development styles so the\n              // ordering matches production\n              // (by default, style-loader injects at the bottom of <head />)\n              <noscript id=\"__next_css__DO_NOT_USE__\" />\n            )}\n            {styles || null}\n          </>\n        )}\n        {React.createElement(React.Fragment, {}, ...(headTags || []))}\n      </head>\n    )\n  }\n}\n\nexport class Main extends Component {\n  static contextType = DocumentComponentContext\n\n  context!: React.ContextType<typeof DocumentComponentContext>\n\n  render() {\n    const { inAmpMode, html } = this.context._documentProps\n    if (inAmpMode) return AMP_RENDER_TARGET\n    return <div id=\"__next\" dangerouslySetInnerHTML={{ __html: html }} />\n  }\n}\n\nexport class NextScript extends Component<OriginProps> {\n  static contextType = DocumentComponentContext\n\n  static propTypes = {\n    nonce: PropTypes.string,\n    crossOrigin: PropTypes.string,\n  }\n\n  context!: React.ContextType<typeof DocumentComponentContext>\n\n  // Source: https://gist.github.com/samthor/64b114e4a4f539915a95b91ffd340acc\n  static safariNomoduleFix =\n    '!function(){var e=document,t=e.createElement(\"script\");if(!(\"noModule\"in t)&&\"onbeforeload\"in t){var n=!1;e.addEventListener(\"beforeload\",function(e){if(e.target===t)n=!0;else if(!e.target.hasAttribute(\"nomodule\")||!n)return;e.preventDefault()},!0),t.type=\"module\",t.src=\".\",e.head.appendChild(t),t.remove()}}();'\n\n  getDynamicChunks() {\n    const { dynamicImports, assetPrefix, files } = this.context._documentProps\n    const { _devOnlyInvalidateCacheQueryString } = this.context\n\n    return dedupe(dynamicImports).map((bundle: any) => {\n      let modernProps = {}\n      if (process.env.__NEXT_MODERN_BUILD) {\n        modernProps = /\\.module\\.js$/.test(bundle.file)\n          ? { type: 'module' }\n          : { noModule: true }\n      }\n\n      if (!/\\.js$/.test(bundle.file) || files.includes(bundle.file)) return null\n\n      return (\n        <script\n          async\n          key={bundle.file}\n          src={`${assetPrefix}/_next/${encodeURI(\n            bundle.file\n          )}${_devOnlyInvalidateCacheQueryString}`}\n          nonce={this.props.nonce}\n          crossOrigin={this.props.crossOrigin || process.crossOrigin}\n          {...modernProps}\n        />\n      )\n    })\n  }\n\n  getScripts() {\n    const { assetPrefix, files, lowPriorityFiles } = this.context._documentProps\n    const { _devOnlyInvalidateCacheQueryString } = this.context\n\n    const normalScripts = files?.filter((file) => file.endsWith('.js'))\n    const lowPriorityScripts = lowPriorityFiles?.filter((file) =>\n      file.endsWith('.js')\n    )\n\n    return [...normalScripts, ...lowPriorityScripts].map((file) => {\n      let modernProps = {}\n      if (process.env.__NEXT_MODERN_BUILD) {\n        modernProps = file.endsWith('.module.js')\n          ? { type: 'module' }\n          : { noModule: true }\n      }\n      return (\n        <script\n          key={file}\n          src={`${assetPrefix}/_next/${encodeURI(\n            file\n          )}${_devOnlyInvalidateCacheQueryString}`}\n          nonce={this.props.nonce}\n          async\n          crossOrigin={this.props.crossOrigin || process.crossOrigin}\n          {...modernProps}\n        />\n      )\n    })\n  }\n\n  getPolyfillScripts() {\n    // polyfills.js has to be rendered as nomodule without async\n    // It also has to be the first script to load\n    const { assetPrefix, polyfillFiles } = this.context._documentProps\n    const { _devOnlyInvalidateCacheQueryString } = this.context\n\n    return polyfillFiles\n      .filter(\n        (polyfill) =>\n          polyfill.endsWith('.js') && !/\\.module\\.js$/.test(polyfill)\n      )\n      .map((polyfill) => (\n        <script\n          key={polyfill}\n          nonce={this.props.nonce}\n          crossOrigin={this.props.crossOrigin || process.crossOrigin}\n          noModule={true}\n          src={`${assetPrefix}/_next/${polyfill}${_devOnlyInvalidateCacheQueryString}`}\n        />\n      ))\n  }\n\n  static getInlineScriptSource(documentProps: DocumentProps): string {\n    const { __NEXT_DATA__ } = documentProps\n    try {\n      const data = JSON.stringify(__NEXT_DATA__)\n      return htmlEscapeJsonString(data)\n    } catch (err) {\n      if (err.message.indexOf('circular structure')) {\n        throw new Error(\n          `Circular structure in \"getInitialProps\" result of page \"${__NEXT_DATA__.page}\". https://err.sh/vercel/next.js/circular-structure`\n        )\n      }\n      throw err\n    }\n  }\n\n  render() {\n    const {\n      staticMarkup,\n      assetPrefix,\n      inAmpMode,\n      devFiles,\n      __NEXT_DATA__,\n      bodyTags,\n      unstable_runtimeJS,\n    } = this.context._documentProps\n    const disableRuntimeJS = unstable_runtimeJS === false\n\n    const { _devOnlyInvalidateCacheQueryString } = this.context\n\n    if (inAmpMode) {\n      if (process.env.NODE_ENV === 'production') {\n        return null\n      }\n\n      const devFiles = [\n        CLIENT_STATIC_FILES_RUNTIME_REACT_REFRESH,\n        CLIENT_STATIC_FILES_RUNTIME_AMP,\n        CLIENT_STATIC_FILES_RUNTIME_WEBPACK,\n      ]\n\n      return (\n        <>\n          {staticMarkup || disableRuntimeJS ? null : (\n            <script\n              id=\"__NEXT_DATA__\"\n              type=\"application/json\"\n              nonce={this.props.nonce}\n              crossOrigin={this.props.crossOrigin || process.crossOrigin}\n              dangerouslySetInnerHTML={{\n                __html: NextScript.getInlineScriptSource(\n                  this.context._documentProps\n                ),\n              }}\n              data-ampdevmode\n            />\n          )}\n          {devFiles\n            ? devFiles.map((file) => (\n                <script\n                  key={file}\n                  src={`${assetPrefix}/_next/${file}${_devOnlyInvalidateCacheQueryString}`}\n                  nonce={this.props.nonce}\n                  crossOrigin={this.props.crossOrigin || process.crossOrigin}\n                  data-ampdevmode\n                />\n              ))\n            : null}\n          {React.createElement(React.Fragment, {}, ...(bodyTags || []))}\n        </>\n      )\n    }\n\n    const { page, buildId } = __NEXT_DATA__\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (this.props.crossOrigin)\n        console.warn(\n          'Warning: `NextScript` attribute `crossOrigin` is deprecated. https://err.sh/next.js/doc-crossorigin-deprecated'\n        )\n    }\n\n    const pageScript = [\n      <script\n        async\n        data-next-page={page}\n        key={page}\n        src={\n          assetPrefix +\n          encodeURI(`/_next/static/${buildId}/pages${getPageFile(page)}`) +\n          _devOnlyInvalidateCacheQueryString\n        }\n        nonce={this.props.nonce}\n        crossOrigin={this.props.crossOrigin || process.crossOrigin}\n        {...(process.env.__NEXT_MODERN_BUILD ? { noModule: true } : {})}\n      />,\n      process.env.__NEXT_MODERN_BUILD && (\n        <script\n          async\n          data-next-page={page}\n          key={`${page}-modern`}\n          src={\n            assetPrefix +\n            getOptionalModernScriptVariant(\n              encodeURI(`/_next/static/${buildId}/pages${getPageFile(page)}`)\n            ) +\n            _devOnlyInvalidateCacheQueryString\n          }\n          nonce={this.props.nonce}\n          crossOrigin={this.props.crossOrigin || process.crossOrigin}\n          type=\"module\"\n        />\n      ),\n    ]\n\n    const appScript = [\n      <script\n        async\n        data-next-page=\"/_app\"\n        src={\n          assetPrefix +\n          `/_next/static/${buildId}/pages/_app.js` +\n          _devOnlyInvalidateCacheQueryString\n        }\n        key=\"_app\"\n        nonce={this.props.nonce}\n        crossOrigin={this.props.crossOrigin || process.crossOrigin}\n        {...(process.env.__NEXT_MODERN_BUILD ? { noModule: true } : {})}\n      />,\n      process.env.__NEXT_MODERN_BUILD && (\n        <script\n          async\n          data-next-page=\"/_app\"\n          src={\n            assetPrefix +\n            `/_next/static/${buildId}/pages/_app.module.js` +\n            _devOnlyInvalidateCacheQueryString\n          }\n          key=\"_app-modern\"\n          nonce={this.props.nonce}\n          crossOrigin={this.props.crossOrigin || process.crossOrigin}\n          type=\"module\"\n        />\n      ),\n    ]\n\n    return (\n      <>\n        {!disableRuntimeJS && devFiles\n          ? devFiles.map(\n              (file: string) =>\n                !file.match(/\\.js\\.map/) && (\n                  <script\n                    key={file}\n                    src={`${assetPrefix}/_next/${encodeURI(\n                      file\n                    )}${_devOnlyInvalidateCacheQueryString}`}\n                    nonce={this.props.nonce}\n                    crossOrigin={this.props.crossOrigin || process.crossOrigin}\n                  />\n                )\n            )\n          : null}\n        {staticMarkup || disableRuntimeJS ? null : (\n          <script\n            id=\"__NEXT_DATA__\"\n            type=\"application/json\"\n            nonce={this.props.nonce}\n            crossOrigin={this.props.crossOrigin || process.crossOrigin}\n            dangerouslySetInnerHTML={{\n              __html: NextScript.getInlineScriptSource(\n                this.context._documentProps\n              ),\n            }}\n          />\n        )}\n        {process.env.__NEXT_MODERN_BUILD && !disableRuntimeJS ? (\n          <script\n            nonce={this.props.nonce}\n            crossOrigin={this.props.crossOrigin || process.crossOrigin}\n            noModule={true}\n            dangerouslySetInnerHTML={{\n              __html: NextScript.safariNomoduleFix,\n            }}\n          />\n        ) : null}\n        {!disableRuntimeJS && this.getPolyfillScripts()}\n        {!disableRuntimeJS && appScript}\n        {!disableRuntimeJS && page !== '/_error' && pageScript}\n        {disableRuntimeJS || staticMarkup ? null : this.getDynamicChunks()}\n        {disableRuntimeJS || staticMarkup ? null : this.getScripts()}\n        {React.createElement(React.Fragment, {}, ...(bodyTags || []))}\n      </>\n    )\n  }\n}\n\nfunction getAmpPath(ampPath: string, asPath: string): string {\n  return ampPath || `${asPath}${asPath.includes('?') ? '&' : '?'}amp=1`\n}\n\nfunction getPageFile(page: string, buildId?: string): string {\n  const startingUrl = page === '/' ? '/index' : page\n  return buildId ? `${startingUrl}.${buildId}.js` : `${startingUrl}.js`\n}\n"]},"metadata":{},"sourceType":"script"}